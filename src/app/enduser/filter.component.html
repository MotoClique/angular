<div class="scrollContainerStyle" style="height:100%; overflow-y: auto; overflow-x: hidden;" (scroll)="handleScroll($event)">
	<div class="container">
		<b style="line-height: 50px; margin-left: 15px;">Filter conditions:</b>
		<!--<dynamic-form [item]="item" [parentComponent]="self" [editMode]="editMode"></dynamic-form>-->
		<form id="filter_form" class="form-horizontal" >
			<!--<div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Bid/Sale/Buy" name="bid_sell_buy" [attr.data-val]="item.bid_sell_buy" [(ngModel)]="item.bid_sell_buy" [disabled]="disabled.field" >
									  <mat-option *ngFor="let typ of alertTypes" [value]="typ.name">{{typ.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                  </div>-->				  
				  <div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Owner Type" name="owner_type" [attr.data-val]="item.owner_type" [(ngModel)]="item.owner_type" [disabled]="disabled.field" >
									<mat-option value=""></mat-option>
									  <mat-option *ngFor="let itm of ownerTypes" [value]="itm.name">{{itm.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                  </div>
                  <!--<div class="form-group">
                         <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Individual/Dealer" name="listing_by" [attr.data-val]="item.listing_by" [(ngModel)]="item.listing_by" [disabled]="disabled.field" >
									  <mat-option value=""></mat-option>
									  <mat-option *ngFor="let typ of userTypes" [value]="typ.name">{{typ.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                  </div>-->
                  <div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="Product Type" name="product_type_name" [attr.data-val]="item.product_type_name" [(ngModel)]="item.product_type_name" (ngModelChange)="onPrdTypSelect($event)" >
									  <mat-option value=""></mat-option>
									  <mat-option *ngFor="let typ of productTypes" [value]="typ" >{{typ.product_type_name}}</mat-option>
								</mat-select>
							</mat-form-field>
							<mat-form-field style="width: 100%;" [hidden]="!disabled.field">
								<input matInput placeholder="Product Type"  [disabled]="true" [(ngModel)]="item.product_type_name" name="product_type_name_display" >
							</mat-form-field>
						</div>
                  </div>
                  <div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="{{(item.brand_name)?'Brand':'Brand (Please select Product Type first)'}}" name="brand" [attr.data-val]="item.brand_name" [(ngModel)]="item.brand_name" (ngModelChange)="onBrandSelect($event)" >
									  <mat-option value=""></mat-option>
									  <mat-option *ngFor="let brand of brands" [value]="brand" >{{brand}}</mat-option>
								</mat-select>
							</mat-form-field>
							<mat-form-field style="width: 100%;" [hidden]="!disabled.field">
								<input matInput placeholder="Brand"  [disabled]="true" [(ngModel)]="item.brand_name" name="brand_name_display">
							</mat-form-field>
						</div>
                 </div>
                  <div class="form-group">
                      <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;" [hidden]="disabled.field" >
								<mat-select placeholder="{{(item.model)?'Model':'Model (Please select Brand first)'}}" name="model" [attr.data-val]="item.model" [(ngModel)]="item.model" (ngModelChange)="onModelSelect($event)" >
									  <mat-option value=""></mat-option>
									  <mat-option *ngFor="let model of models" [value]="model" >{{model.model}}</mat-option>
								</mat-select>
							</mat-form-field>
							<mat-form-field style="width: 100%;" [hidden]="!disabled.field">
								<input matInput placeholder="Model"  [disabled]="true" [(ngModel)]="item.model" name="model_display">
							</mat-form-field>
						</div>
                 </div>
                 <div class="form-group">
                       
					   <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="{{(item.variant)?'Variant':'Variant (Please select Model first)'}}" name="variant" [attr.data-val]="item.variant" [(ngModel)]="item.variant" >
									  <mat-option value=""></mat-option>
									  <mat-option *ngFor="let variant of variants" [value]="variant">{{variant.variant}}</mat-option>
								</mat-select>
							</mat-form-field>
							<mat-form-field style="width: 100%;" [hidden]="!disabled.field" >
								<input matInput placeholder="Variant" [disabled]="true" [(ngModel)]="item.variant" name="variant_display">
							</mat-form-field>
						</div>
               </div>
                <div class="form-group">
                        
					   <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Fuel Type" name="fuel_type" [attr.data-val]="item.fuel_type" [(ngModel)]="item.fuel_type" [disabled]="disabled.field"  >
									 <mat-option value=""></mat-option>
									  <mat-option *ngFor="let typ of fuelTypes" [value]="typ.name">{{typ.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
               </div>
			   <div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Color" name="color" [attr.data-val]="item.color" [(ngModel)]="item.color" [disabled]="disabled.field" >
									<mat-option value=""></mat-option>
									  <mat-option *ngFor="let itm of colors" [value]="itm.name">{{itm.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                </div>
				<div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Transmission" name="transmission" [attr.data-val]="item.transmission" [(ngModel)]="item.transmission" [disabled]="disabled.field" >
									<mat-option value=""></mat-option>
									  <mat-option *ngFor="let itm of transmissions" [value]="itm.name">{{itm.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                </div>
			   <!--<div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Country" name="country" [attr.data-val]="item.country" [(ngModel)]="item.country" [disabled]="disabled.field" (ngModelChange)="onCountrySelect($event)">
									<mat-option value=""></mat-option>
									  <mat-option *ngFor="let itm of countries" [value]="itm.country">{{itm.country}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                  </div>-->
				<div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="State" name="state" [attr.data-val]="item.state" [(ngModel)]="item.state" [disabled]="disabled.field" (ngModelChange)="onStateSelect($event)">
									<mat-option value=""></mat-option>
									  <mat-option *ngFor="let itm of states" [value]="itm.state">{{itm.state}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                  </div>				
               <div class="form-group">
                        
						 <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="{{(item.city)?'City':'City (Please select State first)'}}" name="city" [attr.data-val]="item.city" [(ngModel)]="item.city"  (ngModelChange)="onCitySelect($event)">
									  <mat-option value=""></mat-option>
									  <mat-option *ngFor="let city of cities" [value]="city.city">{{city.city}}</mat-option>
								</mat-select>
							</mat-form-field>
							<mat-form-field style="width: 100%;" [hidden]="!disabled.field" >
								<input matInput placeholder="City" [disabled]="true" [(ngModel)]="item.city" name="city_display">
							</mat-form-field>
						</div>
               </div>
			   <div class="form-group">
                        <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="{{(item.location)?'Location':'Location (Please select City first)'}}" name="location" [attr.data-val]="item.location" [(ngModel)]="item.location" [disabled]="disabled.field" >
									<mat-option value=""></mat-option>
									  <mat-option *ngFor="let itm of locations" [value]="itm.location">{{itm.location}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                  </div>
      
        <div class="form-group">
           <div class="col-sm-12"> 
               <mat-form-field style="width:100%;">
									<input matInput type="text" placeholder="Place Of Registration" [(ngModel)]="item.place_of_reg" name="place_of_reg" [disabled]="true" >
									<mat-icon style="cursor:pointer;" (click)="onValueHelp($event)" [hidden]="disabled.field" matSuffix><span class="glyphicon glyphicon-option-horizontal"></span></mat-icon>
							</mat-form-field>
					</div>
      </div>
      <div class="form-group">
          <div class="col-sm-12"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Accident History" name="accident_history" [attr.data-val]="item.accident_history" [(ngModel)]="item.accident_history" [disabled]="disabled.field" >
									<mat-option value=""></mat-option>
								  <mat-option *ngFor="let itm of accidentHistory" [value]="itm.name">{{itm.name}}</mat-option>
								</mat-select>
							</mat-form-field>
				</div>
      </div>
      
               <div class="form-group">
                       
					   <div class="col-sm-6">
							<!--<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="Price(Min)" name="price_from" [attr.data-val]="item.price_from" [(ngModel)]="item.price_from"  (change)="validatePrice()">
									  <mat-option *ngFor="let price of prices" [value]="price.key">{{price.value}}</mat-option>
								</mat-select>
							</mat-form-field>-->
							
						   <mat-form-field style="width: 100%;" >
								<input matInput placeholder="Price(Min)" type="number" [disabled]="disabled.field" [(ngModel)]="item.price_from" name="price_from" (focusout)="validatePrice()">
							</mat-form-field>
						</div>
						<div class="col-sm-6">
							<!--<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="Price(Max)" name="price_to" [attr.data-val]="item.price_to" [(ngModel)]="item.price_to"  (change)="validatePrice()">
									  <mat-option *ngFor="let price of prices" [value]="price.key">{{price.value}}</mat-option>
								</mat-select>
							</mat-form-field>-->
							
						   <mat-form-field style="width: 100%;" >
								<input matInput placeholder="Price(Max)"  type="number" [disabled]="disabled.field" [(ngModel)]="item.price_to" name="price_to" (focusout)="validatePrice()" >
							</mat-form-field>
						</div>
					   
              </div>
			  <div class="form-group">                       
					   <div class="col-sm-6">
							<!--<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="Discount(Min)" name="discount_from" [attr.data-val]="item.discount_from" [(ngModel)]="item.discount_from"  (change)="validateDiscount()">
									  <mat-option *ngFor="let price of prices" [value]="price.key">{{price.value}}</mat-option>
								</mat-select>
							</mat-form-field>-->
							
						   <mat-form-field style="width: 100%;" >
								<input matInput placeholder="Discount(Min)"  type="number" [disabled]="disabled.field" [(ngModel)]="item.discount_from" name="discount_from" (focusout)="validateDiscount()">
							</mat-form-field>
						</div>
						<div class="col-sm-6">
							<!--<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="Discount(Max)" name="discount_to" [attr.data-val]="item.discount_to" [(ngModel)]="item.discount_to"  (change)="validateDiscount()">
									  <mat-option *ngFor="let price of prices" [value]="price.key">{{price.value}}</mat-option>
								</mat-select>
							</mat-form-field>-->
							
						   <mat-form-field style="width: 100%;" >
								<input matInput placeholder="Discount(Max)"  type="number" [disabled]="disabled.field" [(ngModel)]="item.discount_to" name="discount_to" (focusout)="validateDiscount()" >
							</mat-form-field>
						</div>
					   
              </div>
               <div class="form-group">
                      
					   <div class="col-sm-6">
							<!--<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="KM(Min)" name="km_run_from" [attr.data-val]="item.km_run_from" [(ngModel)]="item.km_run_from"  (change)="validateKM()">
									  <mat-option *ngFor="let km of kms" [value]="km.key">{{km.value}}</mat-option>
								</mat-select>
							</mat-form-field>-->
							
						   <mat-form-field style="width: 100%;" >
								<input matInput placeholder="KM(Min)" type="number" [disabled]="disabled.field" [(ngModel)]="item.km_run_from" name="km_run_from" (focusout)="validateKM()">
							</mat-form-field>
						</div>
						<div class="col-sm-6">
							<!--<mat-form-field style="width: 100%;" [hidden]="disabled.field">
								<mat-select placeholder="KM(Max)" name="km_run_to" [attr.data-val]="item.km_run_to" [(ngModel)]="item.km_run_to"  (change)="validateKM()">
									  <mat-option *ngFor="let km of kms" [value]="km.key">{{km.value}}</mat-option>
								</mat-select>
							</mat-form-field>-->
							
						   <mat-form-field style="width: 100%;" >
								<input matInput placeholder="KM(Max)" type="number" [disabled]="disabled.field" [(ngModel)]="item.km_run_to" name="km_run_to" (focusout)="validateKM()" >
							</mat-form-field>
						</div>
					   
				</div>
                <div class="form-group">
                       						
						<div class="col-sm-6"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Year of Registration(From)" name="year_reg_from" [attr.data-val]="item.year_reg_from" [(ngModel)]="item.year_reg_from" [disabled]="disabled.field" (focusout)="validateReg()">
									  <mat-option *ngFor="let yr of years" [value]="yr.name">{{yr.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-sm-6"> 
							<mat-form-field style="width: 100%;">
								<mat-select placeholder="Year of Registration(To)" name="year_reg_to" [attr.data-val]="item.year_reg_to" [(ngModel)]="item.year_reg_to" [disabled]="disabled.field" (focusout)="validateReg()">
									  <mat-option *ngFor="let yr of years" [value]="yr.name">{{yr.name}}</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
                </div>
				
			</form>
		
		<div style="height: 100px"></div>
	
			<div class="footerStyle">
				<div class="row" style="padding: 3px;">
					<div class="col-xs-6">
						   <!--<button type="submit" class="btn btn-default" style="width:100%;" [hidden]="!editMode" (click)="onFilterCancel($event)">
							   <span class="glyphicon glyphicon-remove"></span> Cancel
						   </button>-->
						   
						   <button type="submit" class="btn btn-default" style="width:100%;" (click)="onClearFilter($event)">
							   <span class="glyphicon glyphicon-remove"></span> Clear
						   </button>
					</div>
					<div class="col-xs-6" style="display:flex; justify-content:flex-end;">						
						  <button type="submit" class="btn btn-default" style="width:100%;" (click)="onFilterSave($event)">
							   <span class="glyphicon glyphicon-floppy-disk"></span> Apply
						  </button>
						  						
						  <!--<button type="submit" class="btn btn-default" style="width:100%;" [hidden]="editMode" (click)="onEdit($event)">
							   <span class="glyphicon glyphicon-pencil"></span> Edit
						  </button>-->
						  
					 </div>
			   </div>
		   </div>
	</div>
</div>


<app-dialog [(visible)]="showValueHelpDialog">
		<div [hidden]="!showStateListDialog" style="padding: 40px;">
			<div class="listHeader">Select a State</div>
			<div>
			<div class="listItem" *ngFor="let val of regStates" (click)="onStateValueSelect($event,val)">{{val}}</div>
			</div>
		</div>
		
		<div [hidden]="!showValueHelpListDialog" style="padding: 40px;">
			<div class="listHeader">Select an option</div>
			<div>
			<div class="listItem" *ngFor="let val of valueHelp" (click)="onValueHelpSelect($event,val)">{{val.reg_number}}, {{val.place}}</div>
			</div>
		</div>
	</app-dialog>

<app-dialog [(visible)]="showListDialog">
	<div style="padding: 40px;">
		<div class="listHeader">Select a value</div>
		<div>
			<!--<div class="listItem" *ngFor="let prdTyp of productTypes" (click)="onPrdTypSelect($event,prdTyp)" [hidden]="prdTyp.product_type_name === 'Service'">{{prdTyp.product_type_name}}</div>-->
		</div>
	</div>
</app-dialog>
